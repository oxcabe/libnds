<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libnds: fifocommon.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libnds
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_eef24e62abe235ff08d6c310d2f6b3f3.html">nds</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fifocommon.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>low level FIFO API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ndstypes_8h.html">ndstypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="interrupts_8h.html">interrupts.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a95bb0924ea1502825e2dd8b884991568"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a95bb0924ea1502825e2dd8b884991568">FifoAddressHandlerFunc</a>) (void *address, void *userdata)</td></tr>
<tr class="memdesc:a95bb0924ea1502825e2dd8b884991568"><td class="mdescLeft">&#160;</td><td class="mdescRight">fifo callback function pointer with the sent address and the callback's user data.  <a href="#a95bb0924ea1502825e2dd8b884991568">More...</a><br /></td></tr>
<tr class="separator:a95bb0924ea1502825e2dd8b884991568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ddf4dc457833e7db0fd29b167bb4343"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a8ddf4dc457833e7db0fd29b167bb4343">FifoDatamsgHandlerFunc</a>) (int num_bytes, void *userdata)</td></tr>
<tr class="memdesc:a8ddf4dc457833e7db0fd29b167bb4343"><td class="mdescLeft">&#160;</td><td class="mdescRight">fifo callback function pointer with the number of bytes sent and the callback's user data  <a href="#a8ddf4dc457833e7db0fd29b167bb4343">More...</a><br /></td></tr>
<tr class="separator:a8ddf4dc457833e7db0fd29b167bb4343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c77d30d3bf77609e177c89123e35f49"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a4c77d30d3bf77609e177c89123e35f49">FifoValue32HandlerFunc</a>) (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> value32, void *userdata)</td></tr>
<tr class="memdesc:a4c77d30d3bf77609e177c89123e35f49"><td class="mdescLeft">&#160;</td><td class="mdescRight">fifo callback function pointer with the sent value and the callback's user data.  <a href="#a4c77d30d3bf77609e177c89123e35f49">More...</a><br /></td></tr>
<tr class="separator:a4c77d30d3bf77609e177c89123e35f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a82d2791da724e9c4bee380420e9c0c8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a82d2791da724e9c4bee380420e9c0c8a">fifoCheckAddress</a> (int channel)</td></tr>
<tr class="memdesc:a82d2791da724e9c4bee380420e9c0c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if there is any addresses in the fifo queue.  <a href="#a82d2791da724e9c4bee380420e9c0c8a">More...</a><br /></td></tr>
<tr class="separator:a82d2791da724e9c4bee380420e9c0c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac943b00b5c25026e7ad598c293b402e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#ac943b00b5c25026e7ad598c293b402e2">fifoCheckDatamsg</a> (int channel)</td></tr>
<tr class="memdesc:ac943b00b5c25026e7ad598c293b402e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if there is any data messages in the fifo queue.  <a href="#ac943b00b5c25026e7ad598c293b402e2">More...</a><br /></td></tr>
<tr class="separator:ac943b00b5c25026e7ad598c293b402e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e31ff38b977aa30509af00db9011828"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a7e31ff38b977aa30509af00db9011828">fifoCheckDatamsgLength</a> (int channel)</td></tr>
<tr class="memdesc:a7e31ff38b977aa30509af00db9011828"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the number of bytes in the queue for the first data entry.  <a href="#a7e31ff38b977aa30509af00db9011828">More...</a><br /></td></tr>
<tr class="separator:a7e31ff38b977aa30509af00db9011828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c1568b44227b791aa86779c75a32cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a97c1568b44227b791aa86779c75a32cd">fifoCheckValue32</a> (int channel)</td></tr>
<tr class="memdesc:a97c1568b44227b791aa86779c75a32cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if there is any values in the fifo queue.  <a href="#a97c1568b44227b791aa86779c75a32cd">More...</a><br /></td></tr>
<tr class="separator:a97c1568b44227b791aa86779c75a32cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b59e9e23450ce4d3dbddee3f030d9d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a24b59e9e23450ce4d3dbddee3f030d9d">fifoGetAddress</a> (int channel)</td></tr>
<tr class="memdesc:a24b59e9e23450ce4d3dbddee3f030d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first address in queue for a specific channel.  <a href="#a24b59e9e23450ce4d3dbddee3f030d9d">More...</a><br /></td></tr>
<tr class="separator:a24b59e9e23450ce4d3dbddee3f030d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21a2c41f3616e3f414f7dd3353f656f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#af21a2c41f3616e3f414f7dd3353f656f">fifoGetDatamsg</a> (int channel, int buffersize, <a class="el" href="ndstypes_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *destbuffer)</td></tr>
<tr class="memdesc:af21a2c41f3616e3f414f7dd3353f656f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a data message in a given buffer and returns the number of bytes written.  <a href="#af21a2c41f3616e3f414f7dd3353f656f">More...</a><br /></td></tr>
<tr class="separator:af21a2c41f3616e3f414f7dd3353f656f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad788caf8b5cf239be800792e2955ab9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#ad788caf8b5cf239be800792e2955ab9e">fifoGetValue32</a> (int channel)</td></tr>
<tr class="memdesc:ad788caf8b5cf239be800792e2955ab9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first value32 in queue for a specific channel.  <a href="#ad788caf8b5cf239be800792e2955ab9e">More...</a><br /></td></tr>
<tr class="separator:ad788caf8b5cf239be800792e2955ab9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a082948bb92ee9225509e0810ade25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a15a082948bb92ee9225509e0810ade25">fifoInit</a> ()</td></tr>
<tr class="memdesc:a15a082948bb92ee9225509e0810ade25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the fifo system.  <a href="#a15a082948bb92ee9225509e0810ade25">More...</a><br /></td></tr>
<tr class="separator:a15a082948bb92ee9225509e0810ade25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7868d8d0f1002e9316ef41f7706e85fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a7868d8d0f1002e9316ef41f7706e85fa">fifoSendAddress</a> (int channel, void *address)</td></tr>
<tr class="memdesc:a7868d8d0f1002e9316ef41f7706e85fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an address to an channel.  <a href="#a7868d8d0f1002e9316ef41f7706e85fa">More...</a><br /></td></tr>
<tr class="separator:a7868d8d0f1002e9316ef41f7706e85fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38fea694f0e5c3a5ab4c7dc3197e5432"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a38fea694f0e5c3a5ab4c7dc3197e5432">fifoSendDatamsg</a> (int channel, int num_bytes, <a class="el" href="ndstypes_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *data_array)</td></tr>
<tr class="memdesc:a38fea694f0e5c3a5ab4c7dc3197e5432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a sequence of bytes to the other CPU.  <a href="#a38fea694f0e5c3a5ab4c7dc3197e5432">More...</a><br /></td></tr>
<tr class="separator:a38fea694f0e5c3a5ab4c7dc3197e5432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ea88d57459e907832fb8c8087a846c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a32ea88d57459e907832fb8c8087a846c">fifoSendValue32</a> (int channel, <a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> value32)</td></tr>
<tr class="memdesc:a32ea88d57459e907832fb8c8087a846c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a 32bit value.  <a href="#a32ea88d57459e907832fb8c8087a846c">More...</a><br /></td></tr>
<tr class="separator:a32ea88d57459e907832fb8c8087a846c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952b3230e00238794d363441101a28a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a952b3230e00238794d363441101a28a8">fifoSetAddressHandler</a> (int channel, <a class="el" href="fifocommon_8h.html#a95bb0924ea1502825e2dd8b884991568">FifoAddressHandlerFunc</a> newhandler, void *userdata)</td></tr>
<tr class="memdesc:a952b3230e00238794d363441101a28a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set user address message callback.  <a href="#a952b3230e00238794d363441101a28a8">More...</a><br /></td></tr>
<tr class="separator:a952b3230e00238794d363441101a28a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba4b52f613e154410fc32b6925fc7df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#a1ba4b52f613e154410fc32b6925fc7df">fifoSetDatamsgHandler</a> (int channel, <a class="el" href="fifocommon_8h.html#a8ddf4dc457833e7db0fd29b167bb4343">FifoDatamsgHandlerFunc</a> newhandler, void *userdata)</td></tr>
<tr class="memdesc:a1ba4b52f613e154410fc32b6925fc7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set user data message callback.  <a href="#a1ba4b52f613e154410fc32b6925fc7df">More...</a><br /></td></tr>
<tr class="separator:a1ba4b52f613e154410fc32b6925fc7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47e1434fd0f332b0632b2ca0388d367"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#ae47e1434fd0f332b0632b2ca0388d367">fifoSetValue32Handler</a> (int channel, <a class="el" href="fifocommon_8h.html#a4c77d30d3bf77609e177c89123e35f49">FifoValue32HandlerFunc</a> newhandler, void *userdata)</td></tr>
<tr class="memdesc:ae47e1434fd0f332b0632b2ca0388d367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set user value32 message callback.  <a href="#ae47e1434fd0f332b0632b2ca0388d367">More...</a><br /></td></tr>
<tr class="separator:ae47e1434fd0f332b0632b2ca0388d367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80e3c5147f3413f3b4fc851ae27442b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifocommon_8h.html#aa80e3c5147f3413f3b4fc851ae27442b">fifoWaitValue32</a> (int channel)</td></tr>
<tr class="memdesc:aa80e3c5147f3413f3b4fc851ae27442b"><td class="mdescLeft">&#160;</td><td class="mdescRight">waits for any data messages in the fifo queue.  <a href="#aa80e3c5147f3413f3b4fc851ae27442b">More...</a><br /></td></tr>
<tr class="separator:aa80e3c5147f3413f3b4fc851ae27442b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>low level FIFO API. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a95bb0924ea1502825e2dd8b884991568"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* FifoAddressHandlerFunc) (void *address, void *userdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fifo callback function pointer with the sent address and the callback's user data. </p>
<p>The handler is called when new data arrives.</p>
<dl class="section note"><dt>Note</dt><dd>callback functions are called from interrupt level, but are well secured. not too much caution is necessary, but don't call alloc, free or printf from within them, just to be safe. </dd></dl>

</div>
</div>
<a class="anchor" id="a8ddf4dc457833e7db0fd29b167bb4343"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* FifoDatamsgHandlerFunc) (int num_bytes, void *userdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fifo callback function pointer with the number of bytes sent and the callback's user data </p>
<p>The handler is called when new data arrives. This callback must call fifoGetData to actually retrieve the data. If it doesn't, the data will be destroyed on return.</p>
<dl class="section note"><dt>Note</dt><dd>callback functions are called from interrupt level, but are well secured. not too much caution is necessary, but don't call alloc, free or printf from within them, just to be safe. </dd></dl>

</div>
</div>
<a class="anchor" id="a4c77d30d3bf77609e177c89123e35f49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* FifoValue32HandlerFunc) (<a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> value32, void *userdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fifo callback function pointer with the sent value and the callback's user data. </p>
<p>The handler is called when new data arrives.</p>
<dl class="section note"><dt>Note</dt><dd>callback functions are called from interrupt level, but are well secured. not too much caution is necessary, but don't call alloc, free or printf from within them, just to be safe. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fifocommon_8h.html#a4965d26f6beda1fa71dfb45ac9388e3c">FifoChannels</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum values for the different fifo channels. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca8671280780c032c9726f93219d8df95d"></a>FIFO_PM&#160;</td><td class="fielddoc">
<p>fifo channel reserved for power management. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca403a918e1ed17ee903c4299360b000a0"></a>FIFO_SOUND&#160;</td><td class="fielddoc">
<p>fifo channel reserved for sound access. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3cab18293b7335af77ee2e03ce438178264"></a>FIFO_SYSTEM&#160;</td><td class="fielddoc">
<p>fifo channel reserved for system functions. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3cac6bcb498a4ee9f0477bafac990a29d90"></a>FIFO_MAXMOD&#160;</td><td class="fielddoc">
<p>fifo channel reserved for the maxmod library. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca2d453f59d0eb417acb22111c1dfd0df7"></a>FIFO_DSWIFI&#160;</td><td class="fielddoc">
<p>fifo channel reserved for the dswifi library. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca34ca4a32a8326fcbe78152c00df56786"></a>FIFO_SDMMC&#160;</td><td class="fielddoc">
<p>fifo channel reserved for dsi sdmmc control. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3caaaf48973f3acc241b6b250810937627a"></a>FIFO_FIRMWARE&#160;</td><td class="fielddoc">
<p>fifo channel reserved for firmware access. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca4317b73784ef0ab4f473fee9038fb317"></a>FIFO_RSVD_01&#160;</td><td class="fielddoc">
<p>fifo channel reserved for future use. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3caf635b6da9498f85e70f7bb4778eee866"></a>FIFO_USER_01&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca864d67f89b579e61e30e680620d918fb"></a>FIFO_USER_02&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca04151d3a78b1ac6233ebf924defdd034"></a>FIFO_USER_03&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3cae22c9f95ead628ed2353ee299bda6d5f"></a>FIFO_USER_04&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca131547f2dd30b795ef219b1f0c098244"></a>FIFO_USER_05&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca1e5c760c20a103c22bddcaa528a9d9a4"></a>FIFO_USER_06&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3cab566180a49e242b4c64a752f8505a4ae"></a>FIFO_USER_07&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4965d26f6beda1fa71dfb45ac9388e3ca654cf5b9017791a38123962e47b26666"></a>FIFO_USER_08&#160;</td><td class="fielddoc">
<p>fifo channel available for users. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a2bbc6fe1720eda8d8f7bee07be73f7b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fifocommon_8h.html#a2bbc6fe1720eda8d8f7bee07be73f7b6">PM_LedBlinkMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power Management LED blink mode control bits. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a2bbc6fe1720eda8d8f7bee07be73f7b6ae7104d7734741c3652395660e5ea66cd"></a>PM_LED_ON&#160;</td><td class="fielddoc">
<p>Steady on. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2bbc6fe1720eda8d8f7bee07be73f7b6a358fd44d9228457baa939b13b0e272ef"></a>PM_LED_SLEEP&#160;</td><td class="fielddoc">
<p>Blinking, mostly off. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2bbc6fe1720eda8d8f7bee07be73f7b6aa15e002ec64c4bc63a62631d2f7b9c66"></a>PM_LED_BLINK&#160;</td><td class="fielddoc">
<p>Blinking, mostly on. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a82d2791da724e9c4bee380420e9c0c8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoCheckAddress </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if there is any addresses in the fifo queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is any addresses in the queue and if there isn't an address handler in place for the channel. </dd></dl>

</div>
</div>
<a class="anchor" id="ac943b00b5c25026e7ad598c293b402e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoCheckDatamsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if there is any data messages in the fifo queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is any data messages in the queue and if there isn't a data message handler in place for the channel. </dd></dl>

</div>
</div>
<a class="anchor" id="a7e31ff38b977aa30509af00db9011828"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fifoCheckDatamsgLength </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets the number of bytes in the queue for the first data entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes in the queue for the first data entry, or -1 if there are no entries. </dd></dl>

</div>
</div>
<a class="anchor" id="a97c1568b44227b791aa86779c75a32cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoCheckValue32 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if there is any values in the fifo queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is any values in the queue and if there isn't a value handler in place for the channel. </dd></dl>

</div>
</div>
<a class="anchor" id="a24b59e9e23450ce4d3dbddee3f030d9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fifoGetAddress </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the first address in queue for a specific channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the first address in queue, or NULL if there is none. </dd></dl>

</div>
</div>
<a class="anchor" id="af21a2c41f3616e3f414f7dd3353f656f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fifoGetDatamsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buffersize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *&#160;</td>
          <td class="paramname"><em>destbuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a data message in a given buffer and returns the number of bytes written. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check. </td></tr>
    <tr><td class="paramname">buffersize</td><td>the size of the buffer where the message will be copied to. </td></tr>
    <tr><td class="paramname">destbuffer</td><td>a pointer to the buffer where the message will be copied to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written, or -1 if there is no message.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If your buffer is not big enough, you may lose data! Check the data length first if you're not sure what the size is. </dd></dl>

</div>
</div>
<a class="anchor" id="ad788caf8b5cf239be800792e2955ab9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> fifoGetValue32 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the first value32 in queue for a specific channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the first value32 in queue, or 0 if there is no message. </dd></dl>

</div>
</div>
<a class="anchor" id="a15a082948bb92ee9225509e0810ade25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the fifo system. </p>
<p>Attempts to sync with the other CPU, if it fails, fifo services won't be provided.</p>
<dl class="section note"><dt>Note</dt><dd>call <a class="el" href="interrupts_8h.html#af760368da29d076e9c0579e131ee9c3a" title="Initialise the libnds interrupt system. ">irqInit()</a> before calling this function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if syncing worked, false if something went wrong. </dd></dl>

</div>
</div>
<a class="anchor" id="a7868d8d0f1002e9316ef41f7706e85fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoSendAddress </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an address to an channel. </p>
<p>Transmits an address in the range 0x02000000-0x023FFFFF to the other CPU.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel number to send to. </td></tr>
    <tr><td class="paramname">address</td><td>address to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the address has been send, false if something went wrong. </dd></dl>

</div>
</div>
<a class="anchor" id="a38fea694f0e5c3a5ab4c7dc3197e5432"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoSendDatamsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *&#160;</td>
          <td class="paramname"><em>data_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a sequence of bytes to the other CPU. </p>
<p>num_bytes can be between 0 and FIFO_MAX_DATA_BYTES - sending 0 bytes can be useful sometimes...</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel number to send to </td></tr>
    <tr><td class="paramname">num_bytes</td><td>number of bytes to send </td></tr>
    <tr><td class="paramname">data_array</td><td>pointer to data array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the data message has been send, false if something went wrong. </dd></dl>

</div>
</div>
<a class="anchor" id="a32ea88d57459e907832fb8c8087a846c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoSendValue32 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ndstypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>&#160;</td>
          <td class="paramname"><em>value32</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a 32bit value. </p>
<p>Transmits a 32bit value to the other CPU.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel number to send to </td></tr>
    <tr><td class="paramname">value32</td><td>32bit value to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the value has been send, false if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Transfer is more efficient if the top 8 bits are zero. So sending smaller values or bitmasks that don't include the top bits is preferred. </dd></dl>

</div>
</div>
<a class="anchor" id="a952b3230e00238794d363441101a28a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoSetAddressHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fifocommon_8h.html#a95bb0924ea1502825e2dd8b884991568">FifoAddressHandlerFunc</a>&#160;</td>
          <td class="paramname"><em>newhandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set user address message callback. </p>
<p>Set a callback to receive incoming address messages on a specific channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel number to send to. </td></tr>
    <tr><td class="paramname">newhandler</td><td>a function pointer to the new handler function. </td></tr>
    <tr><td class="paramname">userdata</td><td>a pointer that will be passed on to the handler when it will be called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the handler has been set, false if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Setting the handler for a channel feeds the queue of buffered messages to the new handler, if there are any unread messages. </dd></dl>

</div>
</div>
<a class="anchor" id="a1ba4b52f613e154410fc32b6925fc7df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoSetDatamsgHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fifocommon_8h.html#a8ddf4dc457833e7db0fd29b167bb4343">FifoDatamsgHandlerFunc</a>&#160;</td>
          <td class="paramname"><em>newhandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set user data message callback. </p>
<p>Set a callback to receive incoming data messages on a specific channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel number to send to. </td></tr>
    <tr><td class="paramname">newhandler</td><td>a function pointer to the new handler function. </td></tr>
    <tr><td class="paramname">userdata</td><td>a pointer that will be passed on to the handler when it will be called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the handler has been set, false if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Setting the handler for a channel feeds the queue of buffered messages to the new handler, if there are any unread messages. </dd></dl>

</div>
</div>
<a class="anchor" id="ae47e1434fd0f332b0632b2ca0388d367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fifoSetValue32Handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fifocommon_8h.html#a4c77d30d3bf77609e177c89123e35f49">FifoValue32HandlerFunc</a>&#160;</td>
          <td class="paramname"><em>newhandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set user value32 message callback. </p>
<p>Set a callback to receive incoming value32 messages on a specific channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel number to send to. </td></tr>
    <tr><td class="paramname">newhandler</td><td>a function pointer to the new handler function. </td></tr>
    <tr><td class="paramname">userdata</td><td>a pointer that will be passed on to the handler when it will be called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the handler has been set, false if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Setting the handler for a channel feeds the queue of buffered messages to the new handler, if there are any unread messages. </dd></dl>

</div>
</div>
<a class="anchor" id="aa80e3c5147f3413f3b4fc851ae27442b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fifoWaitValue32 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>waits for any data messages in the fifo queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>the channel to check. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 13 2019 16:30:43 for libnds by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
